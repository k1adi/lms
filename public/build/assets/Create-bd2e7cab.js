import{W as g,j as e}from"./app-143c1042.js";import{S as p,c}from"./ReactSelectOption-9b90ff86.js";import{D as _}from"./DashboardLayout-652c8066.js";import{B as w}from"./Breadcrumb-b638c607.js";import{F as t}from"./FieldGroup-6207962c.js";import{T as i}from"./TextInput-8d99e8d2.js";import{P as C}from"./PrimaryButton-56cf560b.js";import{P as k}from"./plus-5355f8fd.js";import{T as y}from"./trash-2-40682509.js";import"./graduation-cap-30460fa7.js";const P=({bus:u,roles:d,positions:h})=>{const b=[{link:route("dashboard"),text:"Dashboard"},{link:route("users.index"),text:"User"}],{data:r,setData:l,post:x,errors:o,processing:j}=g({full_name:"",username:"",roles:[],email:"",no_hp:"",no_nik:"",password:"",pivot:[{bu:null,position:[]}]}),v=()=>{l("pivot",[...r.pivot,{bu:null,position:[]}])},f=a=>{const s=r.pivot.filter((m,n)=>n!==a);l("pivot",s)},N=a=>{a.preventDefault(),x(route("users.store"))};return e.jsxs("form",{onSubmit:N,className:"w-full",children:[e.jsxs("div",{className:"content-box",children:[e.jsx(w,{title:"Create User",pageName:"Create",prevPage:b}),e.jsx(t,{label:"Full Name",name:"full_name",error:o.full_name,isPrimary:!0,children:e.jsx(i,{name:"full_name",className:"mt-1 block w-full",value:r.full_name,onChange:a=>l("full_name",a.target.value),required:!0,isFocused:!0,autoComplete:"full_name",placeholder:"Full Name..."})}),e.jsx(t,{label:"Username",name:"username",error:o.username,isPrimary:!0,children:e.jsx(i,{name:"username",className:"mt-1 block w-full",value:r.username,onChange:a=>l("username",a.target.value),required:!0,autoComplete:"username",placeholder:"Username..."})}),e.jsx(t,{label:"Roles",name:"role",error:o.role,isPrimary:!0,children:e.jsx(p,{isMulti:!0,options:c(d),value:r.roles,onChange:a=>l("roles",a)})}),e.jsx(t,{label:"User Email",name:"email",error:o.email,isPrimary:!0,children:e.jsx(i,{name:"email",type:"email",className:"mt-1 block w-full",value:r.email,onChange:a=>l("email",a.target.value),required:!0,autoComplete:"email",placeholder:"User Email..."})}),e.jsx(t,{label:"User Phone",name:"no_hp",error:o.no_hp,isPrimary:!0,children:e.jsx(i,{name:"no_hp",className:"mt-1 block w-full",value:r.no_hp,onChange:a=>l("no_hp",a.target.value),required:!0,autoComplete:"no_hp",placeholder:"Handphone Number..."})}),e.jsx(t,{label:"User NIK",name:"no_nik",error:o.no_nik,isPrimary:!0,children:e.jsx(i,{name:"no_nik",className:"mt-1 block w-full",value:r.no_nik,onChange:a=>l("no_nik",a.target.value),required:!0,autoComplete:"no_nik",placeholder:"NIK..."})}),e.jsx(t,{label:"Password",name:"password",error:o.password,isPrimary:!0,children:e.jsx(i,{type:"password",name:"password",className:"mt-1 block w-full",value:r.password,onChange:a=>l("password",a.target.value),required:!0,autoComplete:"password",placeholder:"Password..."})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("button",{className:"btn btn--primary",type:"button",onClick:v,children:[e.jsx(k,{className:"inline-block mb-1"})," Add Bu Position"]}),e.jsx(C,{disabled:j,children:"Submit"})]})]}),e.jsx("div",{className:"content-box mt-2",children:r.pivot.map((a,s)=>e.jsxs("div",{className:"py-2 border-b border-gray-300",children:[e.jsx(t,{label:"Business Unit",name:`pivot.${s}.bu`,error:o[`pivot.${s}.bu`],children:e.jsxs("div",{className:"flex flex-row items-end gap-x-2",children:[e.jsx(p,{name:`pivot.${s}.bu`,placeholder:"Select Type...",options:c(u),value:a.bu,onChange:m=>{const n=[...r.pivot];n[s].bu=m,l("pivot",n)},className:"mt-1 block w-full"}),e.jsx("button",{className:"btn-sm btn--danger",type:"button",onClick:()=>f(s),children:e.jsx(y,{})})]})}),e.jsx(t,{label:"Position",name:`pivot.${s}.position`,error:o[`pivot.${s}.position`],children:e.jsx(p,{isMulti:!0,name:`pivot.${s}.position`,placeholder:"Select Type...",options:c(h),value:a.position,onChange:m=>{const n=[...r.pivot];n[s].position=m,l("pivot",n)},className:"mt-1 block w-full"})})]},s))})]})};P.layout=u=>e.jsx(_,{title:"User Create",children:u});export{P as default};
