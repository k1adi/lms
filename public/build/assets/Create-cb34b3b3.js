import{W as g,j as e}from"./app-8dff3fe4.js";import{S as p}from"./react-select.esm-4b228d2e.js";import{D as _}from"./DashboardLayout-0c01f98f.js";import{B as w}from"./Breadcrumb-487f2b40.js";import{F as t}from"./FieldGroup-e4545a49.js";import{T as i}from"./TextInput-d965cc41.js";import{P as C}from"./PrimaryButton-cf40c5aa.js";import{c}from"./ReactSelectOption-49a86ad9.js";import{P as k}from"./plus-993bbe9e.js";import{T as y}from"./trash-2-7a055ad3.js";import"./graduation-cap-bbda4b7c.js";const P=({bus:u,roles:d,positions:h})=>{const b=[{link:route("dashboard"),text:"Dashboard"},{link:route("users.index"),text:"User"}],{data:a,setData:l,post:x,errors:o,processing:f}=g({full_name:"",username:"",roles:[],email:"",no_hp:"",no_nik:"",password:"",pivot:[{bu:null,position:[]}]}),j=()=>{l("pivot",[...a.pivot,{bu:null,position:[]}])},v=r=>{const s=a.pivot.filter((m,n)=>n!==r);l("pivot",s)},N=r=>{r.preventDefault(),x(route("users.store"))};return e.jsxs("form",{onSubmit:N,className:"w-full",children:[e.jsxs("div",{className:"content-box",children:[e.jsx(w,{title:"Create User",pageName:"Create",prevPage:b}),e.jsx(t,{label:"Full Name",name:"full_name",error:o.full_name,isPrimary:!0,children:e.jsx(i,{name:"full_name",className:"mt-1 block w-full",value:a.full_name,onChange:r=>l("full_name",r.target.value),required:!0,isFocused:!0,autoComplete:"full_name",placeholder:"Full Name..."})}),e.jsx(t,{label:"Username",name:"username",error:o.username,isPrimary:!0,children:e.jsx(i,{name:"username",className:"mt-1 block w-full",value:a.username,onChange:r=>l("username",r.target.value),required:!0,autoComplete:"username",placeholder:"Username..."})}),e.jsx(t,{label:"Roles",name:"role",error:o.role,isPrimary:!0,children:e.jsx(p,{isMulti:!0,options:c(d),value:a.roles,onChange:r=>l("roles",r)})}),e.jsx(t,{label:"User Email",name:"email",error:o.email,isPrimary:!0,children:e.jsx(i,{name:"email",type:"email",className:"mt-1 block w-full",value:a.email,onChange:r=>l("email",r.target.value),required:!0,autoComplete:"email",placeholder:"User Email..."})}),e.jsx(t,{label:"User Phone",name:"no_hp",error:o.no_hp,isPrimary:!0,children:e.jsx(i,{name:"no_hp",className:"mt-1 block w-full",value:a.no_hp,onChange:r=>l("no_hp",r.target.value),required:!0,autoComplete:"no_hp",placeholder:"Handphone Number..."})}),e.jsx(t,{label:"User NIK",name:"no_nik",error:o.no_nik,isPrimary:!0,children:e.jsx(i,{name:"no_nik",className:"mt-1 block w-full",value:a.no_nik,onChange:r=>l("no_nik",r.target.value),required:!0,autoComplete:"no_nik",placeholder:"NIK..."})}),e.jsx(t,{label:"Password",name:"password",error:o.password,isPrimary:!0,children:e.jsx(i,{type:"password",name:"password",className:"mt-1 block w-full",value:a.password,onChange:r=>l("password",r.target.value),required:!0,autoComplete:"password",placeholder:"Password..."})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("button",{className:"btn btn--primary",type:"button",onClick:j,children:[e.jsx(k,{className:"inline-block mb-1"})," Add Bu Position"]}),e.jsx(C,{disabled:f,children:"Submit"})]})]}),e.jsx("div",{className:"content-box mt-2",children:a.pivot.map((r,s)=>e.jsxs("div",{className:"py-2 border-b border-gray-300",children:[e.jsx(t,{label:"Business Unit",name:`pivot.${s}.bu`,error:o[`pivot.${s}.bu`],children:e.jsxs("div",{className:"flex flex-row items-end gap-x-2",children:[e.jsx(p,{name:`pivot.${s}.bu`,placeholder:"Select Type...",options:c(u),value:r.bu,onChange:m=>{const n=[...a.pivot];n[s].bu=m,l("pivot",n)},className:"mt-1 block w-full"}),e.jsx("button",{className:"btn-sm btn--danger",type:"button",onClick:()=>v(s),children:e.jsx(y,{})})]})}),e.jsx(t,{label:"Position",name:`pivot.${s}.position`,error:o[`pivot.${s}.position`],children:e.jsx(p,{isMulti:!0,name:`pivot.${s}.position`,placeholder:"Select Type...",options:c(h),value:r.position,onChange:m=>{const n=[...a.pivot];n[s].position=m,l("pivot",n)},className:"mt-1 block w-full"})})]},s))})]})};P.layout=u=>e.jsx(_,{title:"User Create",children:u});export{P as default};
