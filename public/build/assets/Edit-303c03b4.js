import{W as w,j as t}from"./app-8b54a124.js";import{S as c}from"./react-select.esm-bbefe5d3.js";import{D as T}from"./DashboardLayout-ce5afc5b.js";import{B as k}from"./Breadcrumb-107e7cd4.js";import{F as i}from"./FieldGroup-d03a412f.js";import{T as E}from"./TextArea-6f77677f.js";import{P as N}from"./PrimaryButton-9514a014.js";import{D as u}from"./DateTimePicker-abe6bb34.js";import"./graduation-cap-70f3c88e.js";import"./index-387d7a00.js";const U=({schedule:l,courses:h,allUser:p})=>{const x=[{link:route("dashboard"),text:"Dashboard"},{link:route("schedules.index"),text:"Schedule"}],{course_id:_,course:n,start_time:b,end_time:S,desc:j,users:d}=l,f=new Date(b),D=new Date(S),{data:r,setData:s,patch:v,errors:a,processing:g}=w({course_id:_,selectCourse:{value:n.id,label:n.name},user_id:d.map(e=>e.value),selectUser:d,start_time:f.toISOString(),end_time:D.toISOString(),desc:j}),C=e=>{s(o=>({...o,selectCourse:e,course_id:e.value}))},y=e=>{const o=e.map(m=>m.value);s(m=>({...m,user_id:o,selectUser:e}))},P=e=>{e.preventDefault(),v(route("schedules.update",l))};return t.jsxs("div",{className:"content-box",children:[t.jsx(k,{title:"Edit Schedule",pageName:"Edit",prevPage:x}),t.jsxs("form",{onSubmit:P,className:"w-full",children:[t.jsx(i,{label:"Course",name:"course",error:a.course_id,isPrimary:!0,children:t.jsx(c,{options:h,value:r.selectCourse,onChange:C})}),t.jsx(i,{label:"Start Time",name:"start_time",error:a.start_time,isPrimary:!0,children:t.jsx(u,{minDate:"today",value:r.start_time,currentDate:r.start_time,onChange:e=>s("start_time",e),className:"mt-1 block w-full",name:"start_time",placeholder:"Select start datetime",required:!0})}),t.jsx(i,{label:"End Time",name:"end_time",error:a.end_time,isPrimary:!0,children:t.jsx(u,{minDate:"today",value:r.end_time,currentDate:r.end_time,onChange:e=>s("end_time",e),className:"mt-1 block w-full",name:"end_time",placeholder:"Select end datetime",required:!0})}),t.jsx(i,{label:"Description",name:"desc",error:a.desc,children:t.jsx(E,{id:"desc",name:"desc",className:"mt-1 block w-full",value:r.desc,onChange:e=>s("desc",e.target.value),autoComplete:"desc",placeholder:"Schedule Description...",rows:3})}),t.jsx(i,{label:"Users",name:"users",error:a.user_id,isPrimary:!0,children:t.jsx(c,{isMulti:!0,options:p,value:r.selectUser,onChange:y})}),t.jsx(N,{disabled:g,children:"Submit"})]})]})};U.layout=l=>t.jsx(T,{title:"Edit Schedule",children:l});export{U as default};
