import{r as j,W as y,j as s}from"./app-c934f3ea.js";import{S as l}from"./react-select.esm-c08efbbd.js";import{D as w}from"./DashboardLayout-3bc5976a.js";import{B as N}from"./Breadcrumb-499b58e3.js";import{T as P}from"./TextInput-d73399b1.js";import{F as i}from"./FieldGroup-c59a9442.js";import{P as U}from"./PrimaryButton-c44c71bf.js";import{c as _}from"./ReactSelectOption-49a86ad9.js";import"./createLucideIcon-d518e929.js";import"./graduation-cap-47f31973.js";const k=({assignments:r})=>{const m=[{link:route("dashboard"),text:"Dashboard"},{link:"#",text:"Assignment"},{link:route("tests.index"),text:"Test"}],[d,u]=j.useState([]),{data:a,setData:n,post:h,errors:o,processing:p}=y({assignment_id:"",selectAssignment:"",user_id:"",selectUser:"",score:"",status:"",selectStatus:""}),x=async e=>{u([]),n(t=>({...t,selectAssignment:e,assignment_id:e.value,user_id:"",selectUser:""}));try{const t=r.find(f=>f.id===e.value),c=await axios.get(route("observation.user"),{params:{positions:t.position}});c.status===200&&u(c.data)}catch(t){console.error(t,"There's something was wrong when assignment change")}},g=e=>{n(t=>({...t,selectUser:e,user_id:e.value}))},b=e=>{n(t=>({...t,status:e.value,selectStatus:e}))},v=e=>{const t=Math.max(0,Math.min(100,parseInt(e.target.value)));n("score",isNaN(t)?"":t)},S=e=>{e.preventDefault(),h(route("observation.store"))};return s.jsxs("div",{className:"content-box",children:[s.jsx(N,{pageName:"Observation Summary",prevPage:m}),s.jsxs("form",{onSubmit:S,className:"w-full",children:[s.jsx(i,{label:"Assignment",name:"assignment",error:o.assignment_id,isPrimary:!0,children:s.jsx(l,{options:_(r,"code"),value:a.selectAssignment,onChange:x})}),s.jsx(i,{label:"User",name:"user",error:o.user_id,isPrimary:!0,children:s.jsx(l,{options:d,value:a.selectUser,onChange:g})}),s.jsx(i,{label:"Score",name:"score",error:o.score,isPrimary:!0,children:s.jsx(P,{name:"score",type:"number",min:"0",max:"100",value:a.score,onChange:v,className:"mt-1 block w-full",placeholder:"Score (0-100)...",required:!0})}),s.jsx(i,{label:"Status",name:"status",error:o.status,isPrimary:!0,children:s.jsx(l,{name:"status",placeholder:"Select Status...",options:[{value:"0",label:"Tidak Lulus"},{value:"1",label:"Lulus"}],value:a.selectStatus,onChange:b,className:"mt-1 block w-full",required:!0})}),s.jsx(U,{disabled:p,children:"Submit"})]})]})};k.layout=r=>s.jsx(w,{title:"Input Observation",children:r});export{k as default};
